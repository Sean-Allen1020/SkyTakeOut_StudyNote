### 文件的本地储存
- 前端会将文件封装到`MultipartFile`类，发送到后端
- 后端接收后，需要调用
  - `.getOriginalFilename()`获取文件名
  - `transferTo(new File("Path"))`将文件转存到磁盘
- 重名文件会覆盖，最简单的解决方式是使用`UUID`
- 获取文件尾缀可以使用`subString(beginIndex, endIndex)`来获取，具体示范如下
- 单个文件上传的大小和单次请求的大小都被设置有默认值，需要去`yml`调用`multipart`相关配置进行更改
  
```java
    @PostMapping("/upload")
    public Result upload(MultipartFile file) throws IOException {

        //1. 检查本地磁盘是否有目录，如果没有就创建
        File dir = new File("C:\\file");
        if (!dir.exists()) {dir.mkdir();}

        //2. 防止同名文件覆盖，重设文件名
            // 先获取文件尾缀
        String fileName = file.getOriginalFilename();
        String extention = fileName.substring(fileName.lastIndexOf("."));
            // 修改文件名为 UUID
        fileName = UUID.randomUUID().toString() + "." + extention;

        //3. 储存文件
        file.transferTo(new File("C:\\file\\" +  fileName));
        return Result.success();
    }
```
---

```yml
    servlet:
        multipart:
    #      单个文件最大大小
        max-file-size: 10MB
    #      一次请求最大大小(一次请求可能带有复数文件，以及请求头其他数据)
        max-request-size: 100MB
```
