**当一个类“不能或不适合直接加 `@Component”`时，就用 `@Configuration + @Bean`**

**情况1**：本体无`@Component`注解的`第三方类`(常见情况)
- 第三方类源码为只读，不能加`@Component`
- 但又希望：
  - 由 Spring 管理生命周期
  - 支持依赖注入

**解决思路**：在配置类中手动创建对象，并使用`@Bean`交给IOC容器管理：
```java
    @Configuration
    public class RedisConfiguration {

        @Bean   //返回类型必须与第三方类同名(废话)
        public RedisTemplate redisTemplate(RedisConnectionFactory redisConnectionFactory) {
            log.info("Generate redis template instance");
            RedisTemplate redisTemplate = new RedisTemplate();  //创建第三方类实例

            //设置Redis的连接工厂对象
            redisTemplate.setConnectionFactory(redisConnectionFactory);
            //设置Redis key序列化器
            redisTemplate.setKeySerializer(new StringRedisSerializer());

            return redisTemplate;
        }
    }
```
-------------------------------------------------------------------------------

**情况2**：`非 static 工具类`（需要配置、但不适合直接 @Component）
- 工具类需要配置参数（endpoint、key 等）
- 参数来自配置文件
...
等各种导致方法不为 static 的情况

**解决思路**：使用`Properties类`配置属性值，创建配置类传入属性类参数，并把整体交给`@Bean`处理
```java
    @Configuration
    public class AliOssConfiguration {

        @Bean
        public AliOssUtil aliOssUtil(AliOssProperties aliOssProperties) {

            return new AliOssUtil(aliOssProperties.getEndpoint(),
                            aliOssProperties.getBucketName(),
                            aliOssProperties.getRegion(),
                            aliOssProperties.getAccessKeyId(),
                            aliOssProperties.getAccessKeySecret());
        }
    }
```